From: наб <nabijaczleweli@gmail.com>
Date: Mon, 15 Jun 2020 17:56:19 +0200
Subject: Only use thin LTO for release builds

Full LTO breaks [dh_]dwz on amd64:
  dwz: debian/systemd-zram/usr/lib/systemd/system-generators/zram-generator: Couldn't find DIE referenced by DW_AT_abstract_origin
  dh_dwz: error: dwz -- debian/systemd-zram/usr/lib/systemd/system-generators/zram-generator returned exit code 1

Upstream: https://github.com/rust-lang/rust/issues/66118
---
 Cargo.toml | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/Cargo.toml b/Cargo.toml
index d16def8..7e77c34 100644
--- a/Cargo.toml
+++ b/Cargo.toml
@@ -15,5 +15,5 @@ structopt = "0.3"
 [dev-dependencies]
 tempfile = "3"

 [profile.release]
-lto = true
+lto = "thin"
